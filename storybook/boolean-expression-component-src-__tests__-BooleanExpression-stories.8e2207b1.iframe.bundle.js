/*! For license information please see boolean-expression-component-src-__tests__-BooleanExpression-stories.8e2207b1.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkessex_toolkit_stories=self.webpackChunkessex_toolkit_stories||[]).push([[1658],{"../boolean-expression-component/src/__tests__/BooleanExpression.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SingleClause:()=>SingleClause,TwoAttributes:()=>TwoAttributes,TwoClausesInAttribute:()=>TwoClausesInAttribute,default:()=>BooleanExpression_stories});var BooleanOperation,jsx_runtime=__webpack_require__("../../.yarn/cache/react-npm-18.3.1-af38f3c1ae-261137d3f3.zip/node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../.yarn/cache/react-npm-18.3.1-af38f3c1ae-261137d3f3.zip/node_modules/react/index.js");function toggleOperation(op){return op===BooleanOperation.AND?BooleanOperation.OR:BooleanOperation.AND}!function(BooleanOperation){BooleanOperation.AND="and",BooleanOperation.OR="or"}(BooleanOperation||(BooleanOperation={}));const DEFAULT_PALETTE={backgroundColor:"white",operations:{[BooleanOperation.AND]:"#80acf7",[BooleanOperation.OR]:"#4D7BBA"}},NO_OP=()=>{},BooleanOperationToggle=(0,react.memo)((function BooleanOperationToggle({className,style,operation,disabled,palette=DEFAULT_PALETTE,onToggle=NO_OP}){const color=disabled?"grey":palette.operations[operation],label=labels[operation];return(0,jsx_runtime.jsx)(Button,{className,style,color,onClick:onToggle,children:(0,jsx_runtime.jsx)(Text,{children:label})})})),labels={[BooleanOperation.AND]:"AND",[BooleanOperation.OR]:"OR"},Button=(0,react.memo)((function Button({color,children,style,className,onClick}){return(0,jsx_runtime.jsx)("button",{className,style:{...ButtonStyle,color,border:`1px solid ${color}`,...style},onClick,type:"button",children})})),ButtonStyle={display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:20,backgroundColor:"transparent",borderRadius:5,padding:"0 3px",position:"relative",outline:"none"},Text=(0,react.memo)((function Text({children}){return(0,jsx_runtime.jsx)("div",{style:TextStyle,children})})),TextStyle={verticalAlign:"middle",fontSize:14,fontWeight:400};try{BooleanOperationToggle.displayName="BooleanOperationToggle",BooleanOperationToggle.__docgenInfo={description:"",displayName:"BooleanOperationToggle",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},operation:{defaultValue:null,description:"",name:"operation",required:!0,type:{name:"BooleanOperation"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!1,type:{name:"() => void"}},palette:{defaultValue:null,description:"",name:"palette",required:!1,type:{name:"Palette"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../boolean-expression-component/src/components/BooleanOperationToggle.tsx#BooleanOperationToggle"]={docgenInfo:BooleanOperationToggle.__docgenInfo,name:"BooleanOperationToggle",path:"../boolean-expression-component/src/components/BooleanOperationToggle.tsx#BooleanOperationToggle"})}catch(__react_docgen_typescript_loader_error){}var lib_commonjs=__webpack_require__("../../.yarn/__virtual__/@fluentui-react-virtual-de7476e3d6/0/cache/@fluentui-react-npm-8.118.9-93c5d7c0a7-1806e7182f.zip/node_modules/@fluentui/react/lib-commonjs/index.js");const CloseButton=(0,react.memo)((function CloseButton({onClick,color="white"}){const handleClick=(0,react.useCallback)((()=>onClick()),[onClick]),iconClass=(0,lib_commonjs.mergeStyles)({fontSize:10,height:10,width:10,marginLeft:"10px",color,cursor:"pointer"});return(0,jsx_runtime.jsx)(lib_commonjs.Icon,{iconName:"Clear",onClick:handleClick,className:iconClass,color})}));try{CloseButton.displayName="CloseButton",CloseButton.__docgenInfo={description:"",displayName:"CloseButton",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../boolean-expression-component/src/components/CloseButton.tsx#CloseButton"]={docgenInfo:CloseButton.__docgenInfo,name:"CloseButton",path:"../boolean-expression-component/src/components/CloseButton.tsx#CloseButton"})}catch(__react_docgen_typescript_loader_error){}const FilterChip=(0,react.memo)((function FilterChip({value,onClose,style,className,hasCloseButton=!0}){return(0,jsx_runtime.jsxs)("div",{className,style:{...ContainerStyle,...style},children:[(0,jsx_runtime.jsx)("div",{style:ValueStyle,children:value}),hasCloseButton?(0,jsx_runtime.jsx)(CloseButton,{onClick:onClose}):null]})})),ValueStyle={marginLeft:3,verticalAlign:"middle",fontSize:14,fontWeight:400,height:"100%"},ContainerStyle={height:20,display:"flex",flexShrink:0,flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0 3px",border:"1px solid grey",borderRadius:5,backgroundColor:"#555",minWidth:50,position:"relative"};try{FilterChip.displayName="FilterChip",FilterChip.__docgenInfo={description:"",displayName:"FilterChip",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},hasCloseButton:{defaultValue:null,description:"",name:"hasCloseButton",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../boolean-expression-component/src/components/FilterChip.tsx#FilterChip"]={docgenInfo:FilterChip.__docgenInfo,name:"FilterChip",path:"../boolean-expression-component/src/components/FilterChip.tsx#FilterChip"})}catch(__react_docgen_typescript_loader_error){}const ChipGroup=(0,react.memo)((function ChipGroup({group:{id,filters,label,locked,operation},palette,onDismiss,onChangeOperation,onChipGroupDismissed}){const chips=(0,react.useMemo)((()=>filters.map((f=>(0,jsx_runtime.jsx)(FilterChip,{value:f.label,onClose:()=>onDismiss(f),hasCloseButton:!onChipGroupDismissed},f.id)))),[filters,onDismiss,onChipGroupDismissed]),handleToggle=(0,react.useCallback)((()=>{locked||onChangeOperation(id,toggleOperation(operation))}),[id,operation,locked,onChangeOperation]);return(0,jsx_runtime.jsxs)(Container,{children:[(0,jsx_runtime.jsx)(OperationText,{color:palette.operations[operation],backgroundColor:palette.backgroundColor,children:label}),(0,jsx_runtime.jsxs)(Border,{borderColor:palette.operations[operation],children:[filters.length>1?(0,jsx_runtime.jsx)(BooleanOperationToggle,{style:ToggleStyle,operation,disabled:locked,onToggle:handleToggle,palette}):null,chips,onChipGroupDismissed?(0,jsx_runtime.jsx)(CloseButton,{color:"grey",onClick:()=>onChipGroupDismissed({id,filters,label,locked,operation})}):null]})]})})),ToggleStyle={margin:4},Border=(0,react.memo)((function Border({borderColor,children}){return(0,jsx_runtime.jsx)(BorderContainer,{color:borderColor,children})})),Container=(0,react.memo)((function Container({children}){return(0,jsx_runtime.jsx)("div",{style:ChipGroup_ContainerStyle,children})})),ChipGroup_ContainerStyle={padding:4,marginTop:2,position:"relative",height:38,display:"flex",flexShrink:0},OperationText=(0,react.memo)((function OperationText({color,backgroundColor,children}){return(0,jsx_runtime.jsx)("div",{style:{...OperationTextStyle,color,backgroundColor},children})})),OperationTextStyle={position:"absolute",left:14,top:-4,fontSize:10,fontWeight:"bold",zIndex:2,padding:"0 4px 0 4px"},BorderContainer=(0,react.memo)((function BorderContainer({color,children}){return(0,jsx_runtime.jsx)("div",{style:{...BorderContainerStyle,border:`2px solid ${color}`},children})})),BorderContainerStyle={borderRadius:10,display:"flex",flexDirection:"row",position:"relative",alignItems:"center",padding:"0 4px"};try{ChipGroup.displayName="ChipGroup",ChipGroup.__docgenInfo={description:"",displayName:"ChipGroup",props:{group:{defaultValue:null,description:"",name:"group",required:!0,type:{name:"FilterClauseGroup"}},onChangeOperation:{defaultValue:null,description:"",name:"onChangeOperation",required:!0,type:{name:"(id: string, operation: BooleanOperation) => void"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"(filter: FilterClause) => void"}},onChipGroupDismissed:{defaultValue:null,description:"",name:"onChipGroupDismissed",required:!1,type:{name:"(filterGroup: FilterClauseGroup) => void"}},palette:{defaultValue:null,description:"",name:"palette",required:!0,type:{name:"Palette"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../boolean-expression-component/src/components/ChipGroup.tsx#ChipGroup"]={docgenInfo:ChipGroup.__docgenInfo,name:"ChipGroup",path:"../boolean-expression-component/src/components/ChipGroup.tsx#ChipGroup"})}catch(__react_docgen_typescript_loader_error){}const FilterExpressionView=(0,react.memo)((function FilterChipSet({operation,filters,palette=DEFAULT_PALETTE,onChipDismissed=NO_OP,onOperationChanged=NO_OP,onGlobalOperationChanged=NO_OP,onChipGroupDismissed}){const chipContainerRef=(0,react.useRef)(null),handleToggleGlobalOperation=(0,react.useCallback)((()=>onGlobalOperationChanged(toggleOperation(operation))),[onGlobalOperationChanged,operation]);return(0,jsx_runtime.jsxs)("div",{ref:chipContainerRef,style:ChipContainerStyle,children:[filters.length<=1?null:(0,jsx_runtime.jsx)(BooleanOperationToggle,{style:FilterExpressionView_ToggleStyle,operation,onToggle:handleToggleGlobalOperation,palette}),filters.map((group=>(0,jsx_runtime.jsx)(ChipGroup,{group,onChangeOperation:onOperationChanged,onDismiss:onChipDismissed,onChipGroupDismissed,palette},group.id)))]})})),FilterExpressionView_ToggleStyle={margin:"3px 4px 0 4px"},ChipContainerStyle={display:"flex",padding:1,flexDirection:"row",height:"100%",flex:"1 1 auto",overflowX:"auto",overflowY:"hidden",alignItems:"center"};try{FilterExpressionView.displayName="FilterExpressionView",FilterExpressionView.__docgenInfo={description:"",displayName:"FilterExpressionView",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterClauseGroup[]"}},operation:{defaultValue:null,description:"",name:"operation",required:!0,type:{name:"BooleanOperation"}},palette:{defaultValue:null,description:"",name:"palette",required:!1,type:{name:"Palette"}},onGlobalOperationChanged:{defaultValue:null,description:"",name:"onGlobalOperationChanged",required:!1,type:{name:"(data: BooleanOperation) => void"}},onChipDismissed:{defaultValue:null,description:"",name:"onChipDismissed",required:!1,type:{name:"(filter: FilterClause) => void"}},onOperationChanged:{defaultValue:null,description:"",name:"onOperationChanged",required:!1,type:{name:"(id: string, operation: BooleanOperation) => void"}},onChipGroupDismissed:{defaultValue:null,description:"",name:"onChipGroupDismissed",required:!1,type:{name:"(filterGroup: FilterClauseGroup) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../boolean-expression-component/src/components/FilterExpressionView.tsx#FilterExpressionView"]={docgenInfo:FilterExpressionView.__docgenInfo,name:"FilterExpressionView",path:"../boolean-expression-component/src/components/FilterExpressionView.tsx#FilterExpressionView"})}catch(__react_docgen_typescript_loader_error){}const BooleanExpression_stories={title:"@essex:boolean-expression-component/BooleanExpression"},SingleClause={render:()=>(0,jsx_runtime.jsx)(FilterExpressionView,{operation:BooleanOperation.AND,filters:[{id:"age",label:"Age",operation:BooleanOperation.AND,filters:[{id:"age.20+",label:"20+"}]}]}),name:"Single Clause"},TwoClausesInAttribute={render:()=>(0,jsx_runtime.jsx)(FilterExpressionView,{operation:BooleanOperation.AND,filters:[{id:"age",label:"Age",operation:BooleanOperation.AND,filters:[{id:"age.20+",label:"20-29"},{id:"age.30+",label:"30-39"}]}]}),name:"Two Clauses in Single Attribute"},TwoAttributes={render:()=>(0,jsx_runtime.jsx)(FilterExpressionView,{operation:BooleanOperation.AND,filters:[{id:"age",label:"Age",operation:BooleanOperation.AND,filters:[{id:"age.20+",label:"20-29"},{id:"age.30+",label:"30-39"}]},{id:"location",label:"Location",operation:BooleanOperation.OR,filters:[{id:"us",label:"USA"},{id:"canada",label:"Canada"}]}]}),name:"Two Attributes"};SingleClause.parameters={...SingleClause.parameters,docs:{...SingleClause.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    return <FilterExpressionView operation={BooleanOperation.AND} filters={[{\n      id: 'age',\n      label: 'Age',\n      operation: BooleanOperation.AND,\n      filters: [{\n        id: 'age.20+',\n        label: '20+'\n      }]\n    }]} />;\n  },\n  name: 'Single Clause'\n}",...SingleClause.parameters?.docs?.source}}},TwoClausesInAttribute.parameters={...TwoClausesInAttribute.parameters,docs:{...TwoClausesInAttribute.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    return <FilterExpressionView operation={BooleanOperation.AND} filters={[{\n      id: 'age',\n      label: 'Age',\n      operation: BooleanOperation.AND,\n      filters: [{\n        id: 'age.20+',\n        label: '20-29'\n      }, {\n        id: 'age.30+',\n        label: '30-39'\n      }]\n    }]} />;\n  },\n  name: 'Two Clauses in Single Attribute'\n}",...TwoClausesInAttribute.parameters?.docs?.source}}},TwoAttributes.parameters={...TwoAttributes.parameters,docs:{...TwoAttributes.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    return <FilterExpressionView operation={BooleanOperation.AND} filters={[{\n      id: 'age',\n      label: 'Age',\n      operation: BooleanOperation.AND,\n      filters: [{\n        id: 'age.20+',\n        label: '20-29'\n      }, {\n        id: 'age.30+',\n        label: '30-39'\n      }]\n    }, {\n      id: 'location',\n      label: 'Location',\n      operation: BooleanOperation.OR,\n      filters: [{\n        id: 'us',\n        label: 'USA'\n      }, {\n        id: 'canada',\n        label: 'Canada'\n      }]\n    }]} />;\n  },\n  name: 'Two Attributes'\n}",...TwoAttributes.parameters?.docs?.source}}}}}]);